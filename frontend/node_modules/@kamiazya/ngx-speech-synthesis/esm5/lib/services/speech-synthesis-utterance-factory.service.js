/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable, Optional, Inject } from '@angular/core';
import { Lang, Voice, Volume, Rate, Pitch, OnStartHandler, OnEndHandler, OnErrorHandler, OnPauseHandler, OnResumeHandler, OnMarkHandler, OnBoundaryHandler, Config, } from '../configs';
import * as i0 from "@angular/core";
import * as i1 from "../configs";
/**
 * \@dynamic
 */
var SpeechSynthesisUtteranceFactoryService = /** @class */ (function () {
    function SpeechSynthesisUtteranceFactoryService(config, 
    /**
     * This attribute specifies the language of the speech synthesis for the utterance,
     * using a valid BCP 47 language tag.
     * [BCP47] If unset it remains unset for getting in script,
     * but will default to use the language of the html document root element and associated hierarchy.
     * This default value is computed and used when the input request opens a connection
     * to the recognition service.
     */
    lang, 
    /**
     * This attribute specifies the speech synthesis voice that the web application wishes to use.
     * When a SpeechSynthesisUtterance object is created this attribute must be initialized to null.
     * If, at the time of the speak() method call,
     * this attribute has been set to one of the SpeechSynthesisVoice objects returned by getVoices(),
     * then the user agent must use that voice. If this attribute is unset or null at the time of the speak()
     * method call, then the user agent must use a user agent default voice.
     * The user agent default voice should support the current language (see lang) and
     * can be a local or remote speech service and can incorporate end user choices via interfaces
     * provided by the user agent such as browser configuration parameters.
     */
    voice, 
    /**
     * This attribute specifies the speaking volume for the utterance.
     * It ranges between 0 and 1 inclusive, with 0 being the lowest volume and 1 the highest volume,
     * with a default of 1. If SSML is used, this value will be overridden by prosody tags in the markup.
     */
    volume, 
    /**
     * This attribute specifies the speaking rate for the utterance.
     * It is relative to the default rate for this voice.
     * 1 is the default rate supported by the speech synthesis engine or specific voice
     * (which should correspond to a normal speaking rate).
     * 2 is twice as fast, and 0.5 is half as fast. Values below 0.1 or above 10 are strictly disallowed,
     * but speech synthesis engines or specific voices may constrain the minimum and maximum rates further,
     * for example, a particular voice may not actually speak faster than 3 times normal
     * even if you specify a value larger than 3.
     * If SSML is used, this value will be overridden by prosody tags in the markup.
     */
    rate, 
    /**
     * This attribute specifies the speaking pitch for the utterance.
     * It ranges between 0 and 2 inclusive, with 0 being the lowest pitch and 2 the highest pitch.
     * 1 corresponds to the default pitch of the speech synthesis engine or specific voice.
     * Speech synthesis engines or voices may constrain the minimum and maximum rates further.
     * If SSML is used, this value will be overridden by prosody tags in the markup.
     */
    pitch, 
    /**
     * Fired when this utterance has begun to be spoken.
     */
    onstart, 
    /**
     * Fired when this utterance has completed being spoken. If this event fires,
     * the error event must not be fired for this utterance.
     */
    onend, 
    /**
     * Fired if there was an error that prevented successful speaking of this utterance.
     * If this event fires, the end event must not be fired for this utterance.
     */
    onerror, 
    /**
     * Fired when and if this utterance is paused mid-utterance.
     */
    onpause, 
    /**
     * Fired when and if this utterance is resumed after being paused mid-utterance.
     * Adding the utterance to the queue while the global SpeechSynthesis instance is in the paused state,
     * and then calling the resume method does not cause the resume event to be fired,
     * in this case the utteranceâ€™s start event will be called when the utterance starts.
     */
    onresume, 
    /**
     * Fired when the spoken utterance reaches a named "mark" tag in SSML.
     * [SSML] The user agent must fire this event if the speech synthesis engine provides the event.
     */
    onmark, 
    /**
     * Fired when the spoken utterance reaches a word or sentence boundary.
     * The user agent must fire this event if the speech synthesis engine provides the event.
     */
    onboundary) {
        var _this = this;
        this.internal = window.speechSynthesis;
        this._config = config;
        this._lang = lang;
        if (typeof voice === 'string') {
            this.internal
                .addEventListener('voiceschanged', function () {
                _this._voice = _this.internal
                    .getVoices().find(function (v) { return v.name === voice; });
            });
        }
        else {
            this._voice = voice;
        }
        this._volume = volume;
        this._rate = rate;
        this._pitch = pitch;
        this._onstart = onstart;
        this._onend = onend;
        this._onerror = onerror;
        this._onpause = onpause;
        this._onresume = onresume;
        this._onmark = onmark;
        this._onboundary = onboundary;
    }
    Object.defineProperty(SpeechSynthesisUtteranceFactoryService.prototype, "lang", {
        /**
         * This attribute specifies the language of the speech synthesis for the utterance,
         * using a valid BCP 47 language tag.
         * [BCP47] If unset it remains unset for getting in script,
         * but will default to use the language of the html document root element and associated hierarchy.
         * This default value is computed and used when the input request opens a connection
         * to the recognition service.
         */
        get: /**
         * This attribute specifies the language of the speech synthesis for the utterance,
         * using a valid BCP 47 language tag.
         * [BCP47] If unset it remains unset for getting in script,
         * but will default to use the language of the html document root element and associated hierarchy.
         * This default value is computed and used when the input request opens a connection
         * to the recognition service.
         * @return {?}
         */
        function () {
            return this._lang || this._config.lang;
        },
        set: /**
         * @param {?} lang
         * @return {?}
         */
        function (lang) {
            this._lang = lang;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpeechSynthesisUtteranceFactoryService.prototype, "voice", {
        /**
         * This attribute specifies the speech synthesis voice that the web application wishes to use.
         * When a SpeechSynthesisUtterance object is created this attribute must be initialized to null.
         * If, at the time of the speak() method call,
         * this attribute has been set to one of the SpeechSynthesisVoice objects returned by getVoices(),
         * then the user agent must use that voice. If this attribute is unset or null at the time of the speak()
         * method call, then the user agent must use a user agent default voice.
         * The user agent default voice should support the current language (see lang) and
         * can be a local or remote speech service and can incorporate end user choices via interfaces
         * provided by the user agent such as browser configuration parameters.
         */
        get: /**
         * This attribute specifies the speech synthesis voice that the web application wishes to use.
         * When a SpeechSynthesisUtterance object is created this attribute must be initialized to null.
         * If, at the time of the speak() method call,
         * this attribute has been set to one of the SpeechSynthesisVoice objects returned by getVoices(),
         * then the user agent must use that voice. If this attribute is unset or null at the time of the speak()
         * method call, then the user agent must use a user agent default voice.
         * The user agent default voice should support the current language (see lang) and
         * can be a local or remote speech service and can incorporate end user choices via interfaces
         * provided by the user agent such as browser configuration parameters.
         * @return {?}
         */
        function () {
            return this._voice || this._config.voice;
        },
        set: /**
         * @param {?} voice
         * @return {?}
         */
        function (voice) {
            this._voice = voice;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpeechSynthesisUtteranceFactoryService.prototype, "volume", {
        /**
         * This attribute specifies the speaking volume for the utterance.
         * It ranges between 0 and 1 inclusive, with 0 being the lowest volume and 1 the highest volume,
         * with a default of 1. If SSML is used, this value will be overridden by prosody tags in the markup.
         */
        get: /**
         * This attribute specifies the speaking volume for the utterance.
         * It ranges between 0 and 1 inclusive, with 0 being the lowest volume and 1 the highest volume,
         * with a default of 1. If SSML is used, this value will be overridden by prosody tags in the markup.
         * @return {?}
         */
        function () {
            return this._volume || this._config.volume;
        },
        set: /**
         * @param {?} volume
         * @return {?}
         */
        function (volume) {
            this._volume = volume;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpeechSynthesisUtteranceFactoryService.prototype, "rate", {
        /**
         * This attribute specifies the speaking rate for the utterance.
         * It is relative to the default rate for this voice.
         * 1 is the default rate supported by the speech synthesis engine or specific voice
         * (which should correspond to a normal speaking rate).
         * 2 is twice as fast, and 0.5 is half as fast. Values below 0.1 or above 10 are strictly disallowed,
         * but speech synthesis engines or specific voices may constrain the minimum and maximum rates further,
         * for example, a particular voice may not actually speak faster than 3 times normal
         * even if you specify a value larger than 3.
         * If SSML is used, this value will be overridden by prosody tags in the markup.
         */
        get: /**
         * This attribute specifies the speaking rate for the utterance.
         * It is relative to the default rate for this voice.
         * 1 is the default rate supported by the speech synthesis engine or specific voice
         * (which should correspond to a normal speaking rate).
         * 2 is twice as fast, and 0.5 is half as fast. Values below 0.1 or above 10 are strictly disallowed,
         * but speech synthesis engines or specific voices may constrain the minimum and maximum rates further,
         * for example, a particular voice may not actually speak faster than 3 times normal
         * even if you specify a value larger than 3.
         * If SSML is used, this value will be overridden by prosody tags in the markup.
         * @return {?}
         */
        function () {
            return this._rate || this._config.rate;
        },
        set: /**
         * @param {?} rate
         * @return {?}
         */
        function (rate) {
            this._rate = rate;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpeechSynthesisUtteranceFactoryService.prototype, "pitch", {
        /**
         * This attribute specifies the speaking pitch for the utterance.
         * It ranges between 0 and 2 inclusive, with 0 being the lowest pitch and 2 the highest pitch.
         * 1 corresponds to the default pitch of the speech synthesis engine or specific voice.
         * Speech synthesis engines or voices may constrain the minimum and maximum rates further.
         * If SSML is used, this value will be overridden by prosody tags in the markup.
         */
        get: /**
         * This attribute specifies the speaking pitch for the utterance.
         * It ranges between 0 and 2 inclusive, with 0 being the lowest pitch and 2 the highest pitch.
         * 1 corresponds to the default pitch of the speech synthesis engine or specific voice.
         * Speech synthesis engines or voices may constrain the minimum and maximum rates further.
         * If SSML is used, this value will be overridden by prosody tags in the markup.
         * @return {?}
         */
        function () {
            return this._pitch || this._config.pitch;
        },
        set: /**
         * @param {?} pitch
         * @return {?}
         */
        function (pitch) {
            this._pitch = pitch;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpeechSynthesisUtteranceFactoryService.prototype, "onstart", {
        /**
         * Fired when this utterance has begun to be spoken.
         */
        get: /**
         * Fired when this utterance has begun to be spoken.
         * @return {?}
         */
        function () {
            return this._onstart || this._config.onstart;
        },
        set: /**
         * @param {?} onstart
         * @return {?}
         */
        function (onstart) {
            this._onstart = onstart;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpeechSynthesisUtteranceFactoryService.prototype, "onend", {
        /**
         * Fired when this utterance has completed being spoken. If this event fires,
         * the error event must not be fired for this utterance.
         */
        get: /**
         * Fired when this utterance has completed being spoken. If this event fires,
         * the error event must not be fired for this utterance.
         * @return {?}
         */
        function () {
            return this._onend || this._config.onend;
        },
        set: /**
         * @param {?} onend
         * @return {?}
         */
        function (onend) {
            this._onend = onend;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpeechSynthesisUtteranceFactoryService.prototype, "onerror", {
        /**
         * Fired if there was an error that prevented successful speaking of this utterance.
         * If this event fires, the end event must not be fired for this utterance.
         */
        get: /**
         * Fired if there was an error that prevented successful speaking of this utterance.
         * If this event fires, the end event must not be fired for this utterance.
         * @return {?}
         */
        function () {
            return this._onerror || this._config.onerror;
        },
        set: /**
         * @param {?} onerror
         * @return {?}
         */
        function (onerror) {
            this._onerror = onerror;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpeechSynthesisUtteranceFactoryService.prototype, "onpause", {
        /**
         * Fired when and if this utterance is paused mid-utterance.
         */
        get: /**
         * Fired when and if this utterance is paused mid-utterance.
         * @return {?}
         */
        function () {
            return this._onpause || this._config.onpause;
        },
        set: /**
         * @param {?} onpause
         * @return {?}
         */
        function (onpause) {
            this._onpause = onpause;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpeechSynthesisUtteranceFactoryService.prototype, "onresume", {
        /**
         * Fired when and if this utterance is resumed after being paused mid-utterance.
         * Adding the utterance to the queue while the global SpeechSynthesis instance is in the paused state,
         * and then calling the resume method does not cause the resume event to be fired,
         * in this case the utteranceâ€™s start event will be called when the utterance starts.
         */
        get: /**
         * Fired when and if this utterance is resumed after being paused mid-utterance.
         * Adding the utterance to the queue while the global SpeechSynthesis instance is in the paused state,
         * and then calling the resume method does not cause the resume event to be fired,
         * in this case the utteranceâ€™s start event will be called when the utterance starts.
         * @return {?}
         */
        function () {
            return this._onresume || this._config.onresume;
        },
        set: /**
         * @param {?} onresume
         * @return {?}
         */
        function (onresume) {
            this._onresume = onresume;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpeechSynthesisUtteranceFactoryService.prototype, "onmark", {
        /**
         * Fired when the spoken utterance reaches a named "mark" tag in SSML.
         * [SSML] The user agent must fire this event if the speech synthesis engine provides the event.
         */
        get: /**
         * Fired when the spoken utterance reaches a named "mark" tag in SSML.
         * [SSML] The user agent must fire this event if the speech synthesis engine provides the event.
         * @return {?}
         */
        function () {
            return this._onmark || this._config.onmark;
        },
        set: /**
         * @param {?} onmark
         * @return {?}
         */
        function (onmark) {
            this._onmark = onmark;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpeechSynthesisUtteranceFactoryService.prototype, "onboundary", {
        /**
         * Fired when the spoken utterance reaches a word or sentence boundary.
         * The user agent must fire this event if the speech synthesis engine provides the event.
         */
        get: /**
         * Fired when the spoken utterance reaches a word or sentence boundary.
         * The user agent must fire this event if the speech synthesis engine provides the event.
         * @return {?}
         */
        function () {
            return this._onboundary || this._config.onboundary;
        },
        set: /**
         * @param {?} onboundary
         * @return {?}
         */
        function (onboundary) {
            this._onboundary = onboundary;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * This attribute specifies the text to be synthesized and spoken for this utterance.
     * This may be either plain text or a complete, well-formed SSML document.
     * [SSML] For speech synthesis engines that do not support SSML,
     * or only support certain tags, the user agent or speech engine must strip away
     * the tags they do not support and speak the text. There may be a maximum length of the text,
     * it may be limited to 32,767 characters.
     */
    /**
     * This attribute specifies the text to be synthesized and spoken for this utterance.
     * This may be either plain text or a complete, well-formed SSML document.
     * [SSML] For speech synthesis engines that do not support SSML,
     * or only support certain tags, the user agent or speech engine must strip away
     * the tags they do not support and speak the text. There may be a maximum length of the text,
     * it may be limited to 32,767 characters.
     * @param {?} text
     * @return {?}
     */
    SpeechSynthesisUtteranceFactoryService.prototype.text = /**
     * This attribute specifies the text to be synthesized and spoken for this utterance.
     * This may be either plain text or a complete, well-formed SSML document.
     * [SSML] For speech synthesis engines that do not support SSML,
     * or only support certain tags, the user agent or speech engine must strip away
     * the tags they do not support and speak the text. There may be a maximum length of the text,
     * it may be limited to 32,767 characters.
     * @param {?} text
     * @return {?}
     */
    function (text) {
        /** @type {?} */
        var utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = this.lang;
        utterance.voice = this.voice;
        utterance.volume = this.volume;
        utterance.rate = this.rate;
        utterance.pitch = this.pitch;
        utterance.onstart = this.onstart;
        utterance.onend = this.onend;
        utterance.onerror = this.onerror;
        utterance.onpause = this.onpause;
        utterance.onresume = this.onresume;
        utterance.onmark = this.onmark;
        utterance.onboundary = this.onboundary;
        return utterance;
    };
    SpeechSynthesisUtteranceFactoryService.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root'
                },] }
    ];
    /** @nocollapse */
    SpeechSynthesisUtteranceFactoryService.ctorParameters = function () { return [
        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [Config,] }] },
        { type: String, decorators: [{ type: Optional }, { type: Inject, args: [Lang,] }] },
        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [Voice,] }] },
        { type: Number, decorators: [{ type: Optional }, { type: Inject, args: [Volume,] }] },
        { type: Number, decorators: [{ type: Optional }, { type: Inject, args: [Rate,] }] },
        { type: Number, decorators: [{ type: Optional }, { type: Inject, args: [Pitch,] }] },
        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [OnStartHandler,] }] },
        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [OnEndHandler,] }] },
        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [OnErrorHandler,] }] },
        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [OnPauseHandler,] }] },
        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [OnResumeHandler,] }] },
        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [OnMarkHandler,] }] },
        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [OnBoundaryHandler,] }] }
    ]; };
    /** @nocollapse */ SpeechSynthesisUtteranceFactoryService.ngInjectableDef = i0.defineInjectable({ factory: function SpeechSynthesisUtteranceFactoryService_Factory() { return new SpeechSynthesisUtteranceFactoryService(i0.inject(i1.Config, 8), i0.inject(i1.Lang, 8), i0.inject(i1.Voice, 8), i0.inject(i1.Volume, 8), i0.inject(i1.Rate, 8), i0.inject(i1.Pitch, 8), i0.inject(i1.OnStartHandler, 8), i0.inject(i1.OnEndHandler, 8), i0.inject(i1.OnErrorHandler, 8), i0.inject(i1.OnPauseHandler, 8), i0.inject(i1.OnResumeHandler, 8), i0.inject(i1.OnMarkHandler, 8), i0.inject(i1.OnBoundaryHandler, 8)); }, token: SpeechSynthesisUtteranceFactoryService, providedIn: "root" });
    return SpeechSynthesisUtteranceFactoryService;
}());
export { SpeechSynthesisUtteranceFactoryService };
if (false) {
    /**
     * @type {?}
     * @private
     */
    SpeechSynthesisUtteranceFactoryService.prototype._config;
    /**
     * @type {?}
     * @private
     */
    SpeechSynthesisUtteranceFactoryService.prototype._lang;
    /**
     * @type {?}
     * @private
     */
    SpeechSynthesisUtteranceFactoryService.prototype._voice;
    /**
     * @type {?}
     * @private
     */
    SpeechSynthesisUtteranceFactoryService.prototype._volume;
    /**
     * @type {?}
     * @private
     */
    SpeechSynthesisUtteranceFactoryService.prototype._rate;
    /**
     * @type {?}
     * @private
     */
    SpeechSynthesisUtteranceFactoryService.prototype._pitch;
    /**
     * @type {?}
     * @private
     */
    SpeechSynthesisUtteranceFactoryService.prototype._onstart;
    /**
     * @type {?}
     * @private
     */
    SpeechSynthesisUtteranceFactoryService.prototype._onend;
    /**
     * @type {?}
     * @private
     */
    SpeechSynthesisUtteranceFactoryService.prototype._onerror;
    /**
     * @type {?}
     * @private
     */
    SpeechSynthesisUtteranceFactoryService.prototype._onpause;
    /**
     * @type {?}
     * @private
     */
    SpeechSynthesisUtteranceFactoryService.prototype._onresume;
    /**
     * @type {?}
     * @private
     */
    SpeechSynthesisUtteranceFactoryService.prototype._onmark;
    /**
     * @type {?}
     * @private
     */
    SpeechSynthesisUtteranceFactoryService.prototype._onboundary;
    /**
     * If SpeechSynthesis API is supported
     * by the browser instance will be included.
     * @type {?}
     * @private
     */
    SpeechSynthesisUtteranceFactoryService.prototype.internal;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3BlZWNoLXN5bnRoZXNpcy11dHRlcmFuY2UtZmFjdG9yeS5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGthbWlhenlhL25neC1zcGVlY2gtc3ludGhlc2lzLyIsInNvdXJjZXMiOlsibGliL3NlcnZpY2VzL3NwZWVjaC1zeW50aGVzaXMtdXR0ZXJhbmNlLWZhY3Rvcnkuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTdELE9BQU8sRUFDTCxJQUFJLEVBQ0osS0FBSyxFQUNMLE1BQU0sRUFDTixJQUFJLEVBQ0osS0FBSyxFQUNMLGNBQWMsRUFDZCxZQUFZLEVBQ1osY0FBYyxFQUNkLGNBQWMsRUFDZCxlQUFlLEVBQ2YsYUFBYSxFQUNiLGlCQUFpQixFQUdqQixNQUFNLEdBRVAsTUFBTSxZQUFZLENBQUM7Ozs7OztBQUdwQjtJQXlCRSxnREFFRSxNQUF1QyxFQUV2QztJQUNBOzs7Ozs7O09BT0c7SUFDSCxJQUFhLEVBRWI7SUFDQTs7Ozs7Ozs7OztPQVVHO0lBQ0gsS0FBcUMsRUFFckM7SUFDQTs7OztPQUlHO0lBQ0gsTUFBZSxFQUVmO0lBQ0E7Ozs7Ozs7Ozs7T0FVRztJQUNILElBQWEsRUFFYjtJQUNBOzs7Ozs7T0FNRztJQUNILEtBQWMsRUFFZDtJQUNBOztPQUVHO0lBQ0gsT0FBOEMsRUFFOUM7SUFDQTs7O09BR0c7SUFDSCxLQUE0QyxFQUU1QztJQUNBOzs7T0FHRztJQUNILE9BQW1ELEVBRW5EO0lBQ0E7O09BRUc7SUFDSCxPQUE4QyxFQUU5QztJQUNBOzs7OztPQUtHO0lBQ0gsUUFBK0MsRUFFL0M7SUFDQTs7O09BR0c7SUFDSCxNQUE2QyxFQUU3QztJQUNBOzs7T0FHRztJQUNILFVBQWlEO1FBNUduRCxpQkFxSUM7UUF0QkMsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsZUFBZSxDQUFDO1FBQ3ZD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QyxTQUFTLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7UUFFdkMsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQzs7Z0JBOVZGLFVBQVUsU0FBQztvQkFDVixVQUFVLEVBQUUsTUFBTTtpQkFDbkI7Ozs7Z0RBd0JJLFFBQVEsWUFBSSxNQUFNLFNBQUMsTUFBTTs2Q0FHekIsUUFBUSxZQUFJLE1BQU0sU0FBQyxJQUFJO2dEQVd2QixRQUFRLFlBQUksTUFBTSxTQUFDLEtBQUs7NkNBY3hCLFFBQVEsWUFBSSxNQUFNLFNBQUMsTUFBTTs2Q0FRekIsUUFBUSxZQUFJLE1BQU0sU0FBQyxJQUFJOzZDQWN2QixRQUFRLFlBQUksTUFBTSxTQUFDLEtBQUs7Z0RBVXhCLFFBQVEsWUFBSSxNQUFNLFNBQUMsY0FBYztnREFNakMsUUFBUSxZQUFJLE1BQU0sU0FBQyxZQUFZO2dEQU8vQixRQUFRLFlBQUksTUFBTSxTQUFDLGNBQWM7Z0RBT2pDLFFBQVEsWUFBSSxNQUFNLFNBQUMsY0FBYztnREFNakMsUUFBUSxZQUFJLE1BQU0sU0FBQyxlQUFlO2dEQVNsQyxRQUFRLFlBQUksTUFBTSxTQUFDLGFBQWE7Z0RBT2hDLFFBQVEsWUFBSSxNQUFNLFNBQUMsaUJBQWlCOzs7aURBdEp6QztDQXFYQyxBQS9WRCxJQStWQztTQTVWWSxzQ0FBc0M7Ozs7OztJQUNqRCx5REFBaUQ7Ozs7O0lBQ2pELHVEQUF1Qjs7Ozs7SUFDdkIsd0RBQXNDOzs7OztJQUN0Qyx5REFBeUI7Ozs7O0lBQ3pCLHVEQUF1Qjs7Ozs7SUFDdkIsd0RBQXdCOzs7OztJQUN4QiwwREFBd0Q7Ozs7O0lBQ3hELHdEQUFzRDs7Ozs7SUFDdEQsMERBQTZEOzs7OztJQUM3RCwwREFBd0Q7Ozs7O0lBQ3hELDJEQUF5RDs7Ozs7SUFDekQseURBQXVEOzs7OztJQUN2RCw2REFBMkQ7Ozs7Ozs7SUFPM0QsMERBQWtDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSwgT3B0aW9uYWwsIEluamVjdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQge1xuICBMYW5nLFxuICBWb2ljZSxcbiAgVm9sdW1lLFxuICBSYXRlLFxuICBQaXRjaCxcbiAgT25TdGFydEhhbmRsZXIsXG4gIE9uRW5kSGFuZGxlcixcbiAgT25FcnJvckhhbmRsZXIsXG4gIE9uUGF1c2VIYW5kbGVyLFxuICBPblJlc3VtZUhhbmRsZXIsXG4gIE9uTWFya0hhbmRsZXIsXG4gIE9uQm91bmRhcnlIYW5kbGVyLFxuICBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2VFdmVudEhhbmRsZXIsXG4gIFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZUNvbmZpZyxcbiAgQ29uZmlnLFxuICBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2VFcnJvckV2ZW50SGFuZGxlcixcbn0gZnJvbSAnLi4vY29uZmlncyc7XG5pbXBvcnQgeyBTcGVlY2hTeW50aGVzaXNWb2ljZSB9IGZyb20gJy4uL2FkYXB0ZXJzL2FkYXB0ZXInO1xuLyoqIEBkeW5hbWljICovXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2VGYWN0b3J5U2VydmljZSB7XG4gIHByaXZhdGUgX2NvbmZpZz86IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZUNvbmZpZztcbiAgcHJpdmF0ZSBfbGFuZz86IHN0cmluZztcbiAgcHJpdmF0ZSBfdm9pY2U/OiBTcGVlY2hTeW50aGVzaXNWb2ljZTtcbiAgcHJpdmF0ZSBfdm9sdW1lPzogbnVtYmVyO1xuICBwcml2YXRlIF9yYXRlPzogbnVtYmVyO1xuICBwcml2YXRlIF9waXRjaD86IG51bWJlcjtcbiAgcHJpdmF0ZSBfb25zdGFydD86IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZUV2ZW50SGFuZGxlcjtcbiAgcHJpdmF0ZSBfb25lbmQ/OiBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2VFdmVudEhhbmRsZXI7XG4gIHByaXZhdGUgX29uZXJyb3I/OiBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2VFcnJvckV2ZW50SGFuZGxlcjtcbiAgcHJpdmF0ZSBfb25wYXVzZT86IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZUV2ZW50SGFuZGxlcjtcbiAgcHJpdmF0ZSBfb25yZXN1bWU/OiBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2VFdmVudEhhbmRsZXI7XG4gIHByaXZhdGUgX29ubWFyaz86IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZUV2ZW50SGFuZGxlcjtcbiAgcHJpdmF0ZSBfb25ib3VuZGFyeT86IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZUV2ZW50SGFuZGxlcjtcblxuXG4gIC8qKlxuICAgKiBJZiBTcGVlY2hTeW50aGVzaXMgQVBJIGlzIHN1cHBvcnRlZFxuICAgKiBieSB0aGUgYnJvd3NlciBpbnN0YW5jZSB3aWxsIGJlIGluY2x1ZGVkLlxuICAgKi9cbiAgcHJpdmF0ZSBpbnRlcm5hbDogU3BlZWNoU3ludGhlc2lzO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIEBPcHRpb25hbCgpIEBJbmplY3QoQ29uZmlnKVxuICAgIGNvbmZpZz86IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZUNvbmZpZyxcblxuICAgIEBPcHRpb25hbCgpIEBJbmplY3QoTGFuZylcbiAgICAvKipcbiAgICAgKiBUaGlzIGF0dHJpYnV0ZSBzcGVjaWZpZXMgdGhlIGxhbmd1YWdlIG9mIHRoZSBzcGVlY2ggc3ludGhlc2lzIGZvciB0aGUgdXR0ZXJhbmNlLFxuICAgICAqIHVzaW5nIGEgdmFsaWQgQkNQIDQ3IGxhbmd1YWdlIHRhZy5cbiAgICAgKiBbQkNQNDddIElmIHVuc2V0IGl0IHJlbWFpbnMgdW5zZXQgZm9yIGdldHRpbmcgaW4gc2NyaXB0LFxuICAgICAqIGJ1dCB3aWxsIGRlZmF1bHQgdG8gdXNlIHRoZSBsYW5ndWFnZSBvZiB0aGUgaHRtbCBkb2N1bWVudCByb290IGVsZW1lbnQgYW5kIGFzc29jaWF0ZWQgaGllcmFyY2h5LlxuICAgICAqIFRoaXMgZGVmYXVsdCB2YWx1ZSBpcyBjb21wdXRlZCBhbmQgdXNlZCB3aGVuIHRoZSBpbnB1dCByZXF1ZXN0IG9wZW5zIGEgY29ubmVjdGlvblxuICAgICAqIHRvIHRoZSByZWNvZ25pdGlvbiBzZXJ2aWNlLlxuICAgICAqL1xuICAgIGxhbmc/OiBzdHJpbmcsXG5cbiAgICBAT3B0aW9uYWwoKSBASW5qZWN0KFZvaWNlKVxuICAgIC8qKlxuICAgICAqIFRoaXMgYXR0cmlidXRlIHNwZWNpZmllcyB0aGUgc3BlZWNoIHN5bnRoZXNpcyB2b2ljZSB0aGF0IHRoZSB3ZWIgYXBwbGljYXRpb24gd2lzaGVzIHRvIHVzZS5cbiAgICAgKiBXaGVuIGEgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlIG9iamVjdCBpcyBjcmVhdGVkIHRoaXMgYXR0cmlidXRlIG11c3QgYmUgaW5pdGlhbGl6ZWQgdG8gbnVsbC5cbiAgICAgKiBJZiwgYXQgdGhlIHRpbWUgb2YgdGhlIHNwZWFrKCkgbWV0aG9kIGNhbGwsXG4gICAgICogdGhpcyBhdHRyaWJ1dGUgaGFzIGJlZW4gc2V0IHRvIG9uZSBvZiB0aGUgU3BlZWNoU3ludGhlc2lzVm9pY2Ugb2JqZWN0cyByZXR1cm5lZCBieSBnZXRWb2ljZXMoKSxcbiAgICAgKiB0aGVuIHRoZSB1c2VyIGFnZW50IG11c3QgdXNlIHRoYXQgdm9pY2UuIElmIHRoaXMgYXR0cmlidXRlIGlzIHVuc2V0IG9yIG51bGwgYXQgdGhlIHRpbWUgb2YgdGhlIHNwZWFrKClcbiAgICAgKiBtZXRob2QgY2FsbCwgdGhlbiB0aGUgdXNlciBhZ2VudCBtdXN0IHVzZSBhIHVzZXIgYWdlbnQgZGVmYXVsdCB2b2ljZS5cbiAgICAgKiBUaGUgdXNlciBhZ2VudCBkZWZhdWx0IHZvaWNlIHNob3VsZCBzdXBwb3J0IHRoZSBjdXJyZW50IGxhbmd1YWdlIChzZWUgbGFuZykgYW5kXG4gICAgICogY2FuIGJlIGEgbG9jYWwgb3IgcmVtb3RlIHNwZWVjaCBzZXJ2aWNlIGFuZCBjYW4gaW5jb3Jwb3JhdGUgZW5kIHVzZXIgY2hvaWNlcyB2aWEgaW50ZXJmYWNlc1xuICAgICAqIHByb3ZpZGVkIGJ5IHRoZSB1c2VyIGFnZW50IHN1Y2ggYXMgYnJvd3NlciBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMuXG4gICAgICovXG4gICAgdm9pY2U/OiBTcGVlY2hTeW50aGVzaXNWb2ljZSB8IHN0cmluZyxcblxuICAgIEBPcHRpb25hbCgpIEBJbmplY3QoVm9sdW1lKVxuICAgIC8qKlxuICAgICAqIFRoaXMgYXR0cmlidXRlIHNwZWNpZmllcyB0aGUgc3BlYWtpbmcgdm9sdW1lIGZvciB0aGUgdXR0ZXJhbmNlLlxuICAgICAqIEl0IHJhbmdlcyBiZXR3ZWVuIDAgYW5kIDEgaW5jbHVzaXZlLCB3aXRoIDAgYmVpbmcgdGhlIGxvd2VzdCB2b2x1bWUgYW5kIDEgdGhlIGhpZ2hlc3Qgdm9sdW1lLFxuICAgICAqIHdpdGggYSBkZWZhdWx0IG9mIDEuIElmIFNTTUwgaXMgdXNlZCwgdGhpcyB2YWx1ZSB3aWxsIGJlIG92ZXJyaWRkZW4gYnkgcHJvc29keSB0YWdzIGluIHRoZSBtYXJrdXAuXG4gICAgICovXG4gICAgdm9sdW1lPzogbnVtYmVyLFxuXG4gICAgQE9wdGlvbmFsKCkgQEluamVjdChSYXRlKVxuICAgIC8qKlxuICAgICAqIFRoaXMgYXR0cmlidXRlIHNwZWNpZmllcyB0aGUgc3BlYWtpbmcgcmF0ZSBmb3IgdGhlIHV0dGVyYW5jZS5cbiAgICAgKiBJdCBpcyByZWxhdGl2ZSB0byB0aGUgZGVmYXVsdCByYXRlIGZvciB0aGlzIHZvaWNlLlxuICAgICAqIDEgaXMgdGhlIGRlZmF1bHQgcmF0ZSBzdXBwb3J0ZWQgYnkgdGhlIHNwZWVjaCBzeW50aGVzaXMgZW5naW5lIG9yIHNwZWNpZmljIHZvaWNlXG4gICAgICogKHdoaWNoIHNob3VsZCBjb3JyZXNwb25kIHRvIGEgbm9ybWFsIHNwZWFraW5nIHJhdGUpLlxuICAgICAqIDIgaXMgdHdpY2UgYXMgZmFzdCwgYW5kIDAuNSBpcyBoYWxmIGFzIGZhc3QuIFZhbHVlcyBiZWxvdyAwLjEgb3IgYWJvdmUgMTAgYXJlIHN0cmljdGx5IGRpc2FsbG93ZWQsXG4gICAgICogYnV0IHNwZWVjaCBzeW50aGVzaXMgZW5naW5lcyBvciBzcGVjaWZpYyB2b2ljZXMgbWF5IGNvbnN0cmFpbiB0aGUgbWluaW11bSBhbmQgbWF4aW11bSByYXRlcyBmdXJ0aGVyLFxuICAgICAqIGZvciBleGFtcGxlLCBhIHBhcnRpY3VsYXIgdm9pY2UgbWF5IG5vdCBhY3R1YWxseSBzcGVhayBmYXN0ZXIgdGhhbiAzIHRpbWVzIG5vcm1hbFxuICAgICAqIGV2ZW4gaWYgeW91IHNwZWNpZnkgYSB2YWx1ZSBsYXJnZXIgdGhhbiAzLlxuICAgICAqIElmIFNTTUwgaXMgdXNlZCwgdGhpcyB2YWx1ZSB3aWxsIGJlIG92ZXJyaWRkZW4gYnkgcHJvc29keSB0YWdzIGluIHRoZSBtYXJrdXAuXG4gICAgICovXG4gICAgcmF0ZT86IG51bWJlcixcblxuICAgIEBPcHRpb25hbCgpIEBJbmplY3QoUGl0Y2gpXG4gICAgLyoqXG4gICAgICogVGhpcyBhdHRyaWJ1dGUgc3BlY2lmaWVzIHRoZSBzcGVha2luZyBwaXRjaCBmb3IgdGhlIHV0dGVyYW5jZS5cbiAgICAgKiBJdCByYW5nZXMgYmV0d2VlbiAwIGFuZCAyIGluY2x1c2l2ZSwgd2l0aCAwIGJlaW5nIHRoZSBsb3dlc3QgcGl0Y2ggYW5kIDIgdGhlIGhpZ2hlc3QgcGl0Y2guXG4gICAgICogMSBjb3JyZXNwb25kcyB0byB0aGUgZGVmYXVsdCBwaXRjaCBvZiB0aGUgc3BlZWNoIHN5bnRoZXNpcyBlbmdpbmUgb3Igc3BlY2lmaWMgdm9pY2UuXG4gICAgICogU3BlZWNoIHN5bnRoZXNpcyBlbmdpbmVzIG9yIHZvaWNlcyBtYXkgY29uc3RyYWluIHRoZSBtaW5pbXVtIGFuZCBtYXhpbXVtIHJhdGVzIGZ1cnRoZXIuXG4gICAgICogSWYgU1NNTCBpcyB1c2VkLCB0aGlzIHZhbHVlIHdpbGwgYmUgb3ZlcnJpZGRlbiBieSBwcm9zb2R5IHRhZ3MgaW4gdGhlIG1hcmt1cC5cbiAgICAgKi9cbiAgICBwaXRjaD86IG51bWJlcixcblxuICAgIEBPcHRpb25hbCgpIEBJbmplY3QoT25TdGFydEhhbmRsZXIpXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGlzIHV0dGVyYW5jZSBoYXMgYmVndW4gdG8gYmUgc3Bva2VuLlxuICAgICAqL1xuICAgIG9uc3RhcnQ/OiBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2VFdmVudEhhbmRsZXIsXG5cbiAgICBAT3B0aW9uYWwoKSBASW5qZWN0KE9uRW5kSGFuZGxlcilcbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoaXMgdXR0ZXJhbmNlIGhhcyBjb21wbGV0ZWQgYmVpbmcgc3Bva2VuLiBJZiB0aGlzIGV2ZW50IGZpcmVzLFxuICAgICAqIHRoZSBlcnJvciBldmVudCBtdXN0IG5vdCBiZSBmaXJlZCBmb3IgdGhpcyB1dHRlcmFuY2UuXG4gICAgICovXG4gICAgb25lbmQ/OiBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2VFdmVudEhhbmRsZXIsXG5cbiAgICBAT3B0aW9uYWwoKSBASW5qZWN0KE9uRXJyb3JIYW5kbGVyKVxuICAgIC8qKlxuICAgICAqIEZpcmVkIGlmIHRoZXJlIHdhcyBhbiBlcnJvciB0aGF0IHByZXZlbnRlZCBzdWNjZXNzZnVsIHNwZWFraW5nIG9mIHRoaXMgdXR0ZXJhbmNlLlxuICAgICAqIElmIHRoaXMgZXZlbnQgZmlyZXMsIHRoZSBlbmQgZXZlbnQgbXVzdCBub3QgYmUgZmlyZWQgZm9yIHRoaXMgdXR0ZXJhbmNlLlxuICAgICAqL1xuICAgIG9uZXJyb3I/OiBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2VFcnJvckV2ZW50SGFuZGxlcixcblxuICAgIEBPcHRpb25hbCgpIEBJbmplY3QoT25QYXVzZUhhbmRsZXIpXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhbmQgaWYgdGhpcyB1dHRlcmFuY2UgaXMgcGF1c2VkIG1pZC11dHRlcmFuY2UuXG4gICAgICovXG4gICAgb25wYXVzZT86IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZUV2ZW50SGFuZGxlcixcblxuICAgIEBPcHRpb25hbCgpIEBJbmplY3QoT25SZXN1bWVIYW5kbGVyKVxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYW5kIGlmIHRoaXMgdXR0ZXJhbmNlIGlzIHJlc3VtZWQgYWZ0ZXIgYmVpbmcgcGF1c2VkIG1pZC11dHRlcmFuY2UuXG4gICAgICogQWRkaW5nIHRoZSB1dHRlcmFuY2UgdG8gdGhlIHF1ZXVlIHdoaWxlIHRoZSBnbG9iYWwgU3BlZWNoU3ludGhlc2lzIGluc3RhbmNlIGlzIGluIHRoZSBwYXVzZWQgc3RhdGUsXG4gICAgICogYW5kIHRoZW4gY2FsbGluZyB0aGUgcmVzdW1lIG1ldGhvZCBkb2VzIG5vdCBjYXVzZSB0aGUgcmVzdW1lIGV2ZW50IHRvIGJlIGZpcmVkLFxuICAgICAqIGluIHRoaXMgY2FzZSB0aGUgdXR0ZXJhbmNl4oCZcyBzdGFydCBldmVudCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1dHRlcmFuY2Ugc3RhcnRzLlxuICAgICAqL1xuICAgIG9ucmVzdW1lPzogU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlRXZlbnRIYW5kbGVyLFxuXG4gICAgQE9wdGlvbmFsKCkgQEluamVjdChPbk1hcmtIYW5kbGVyKVxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIHNwb2tlbiB1dHRlcmFuY2UgcmVhY2hlcyBhIG5hbWVkIFwibWFya1wiIHRhZyBpbiBTU01MLlxuICAgICAqIFtTU01MXSBUaGUgdXNlciBhZ2VudCBtdXN0IGZpcmUgdGhpcyBldmVudCBpZiB0aGUgc3BlZWNoIHN5bnRoZXNpcyBlbmdpbmUgcHJvdmlkZXMgdGhlIGV2ZW50LlxuICAgICAqL1xuICAgIG9ubWFyaz86IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZUV2ZW50SGFuZGxlcixcblxuICAgIEBPcHRpb25hbCgpIEBJbmplY3QoT25Cb3VuZGFyeUhhbmRsZXIpXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgc3Bva2VuIHV0dGVyYW5jZSByZWFjaGVzIGEgd29yZCBvciBzZW50ZW5jZSBib3VuZGFyeS5cbiAgICAgKiBUaGUgdXNlciBhZ2VudCBtdXN0IGZpcmUgdGhpcyBldmVudCBpZiB0aGUgc3BlZWNoIHN5bnRoZXNpcyBlbmdpbmUgcHJvdmlkZXMgdGhlIGV2ZW50LlxuICAgICAqL1xuICAgIG9uYm91bmRhcnk/OiBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2VFdmVudEhhbmRsZXIsXG5cbiAgKSB7XG4gICAgdGhpcy5pbnRlcm5hbCA9IHdpbmRvdy5zcGVlY2hTeW50aGVzaXM7XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuX2xhbmcgPSBsYW5nO1xuICAgIGlmICh0eXBlb2Ygdm9pY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmludGVybmFsXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCd2b2ljZXNjaGFuZ2VkJywgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX3ZvaWNlID0gdGhpcy5pbnRlcm5hbFxuICAgICAgICAgICAgLmdldFZvaWNlcygpLmZpbmQodiA9PiB2Lm5hbWUgPT09IHZvaWNlKTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3ZvaWNlID0gdm9pY2U7XG4gICAgfVxuICAgIHRoaXMuX3ZvbHVtZSA9IHZvbHVtZTtcbiAgICB0aGlzLl9yYXRlID0gcmF0ZTtcbiAgICB0aGlzLl9waXRjaCA9IHBpdGNoO1xuICAgIHRoaXMuX29uc3RhcnQgPSBvbnN0YXJ0O1xuICAgIHRoaXMuX29uZW5kID0gb25lbmQ7XG4gICAgdGhpcy5fb25lcnJvciA9IG9uZXJyb3I7XG4gICAgdGhpcy5fb25wYXVzZSA9IG9ucGF1c2U7XG4gICAgdGhpcy5fb25yZXN1bWUgPSBvbnJlc3VtZTtcbiAgICB0aGlzLl9vbm1hcmsgPSBvbm1hcms7XG4gICAgdGhpcy5fb25ib3VuZGFyeSA9IG9uYm91bmRhcnk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBhdHRyaWJ1dGUgc3BlY2lmaWVzIHRoZSBsYW5ndWFnZSBvZiB0aGUgc3BlZWNoIHN5bnRoZXNpcyBmb3IgdGhlIHV0dGVyYW5jZSxcbiAgICogdXNpbmcgYSB2YWxpZCBCQ1AgNDcgbGFuZ3VhZ2UgdGFnLlxuICAgKiBbQkNQNDddIElmIHVuc2V0IGl0IHJlbWFpbnMgdW5zZXQgZm9yIGdldHRpbmcgaW4gc2NyaXB0LFxuICAgKiBidXQgd2lsbCBkZWZhdWx0IHRvIHVzZSB0aGUgbGFuZ3VhZ2Ugb2YgdGhlIGh0bWwgZG9jdW1lbnQgcm9vdCBlbGVtZW50IGFuZCBhc3NvY2lhdGVkIGhpZXJhcmNoeS5cbiAgICogVGhpcyBkZWZhdWx0IHZhbHVlIGlzIGNvbXB1dGVkIGFuZCB1c2VkIHdoZW4gdGhlIGlucHV0IHJlcXVlc3Qgb3BlbnMgYSBjb25uZWN0aW9uXG4gICAqIHRvIHRoZSByZWNvZ25pdGlvbiBzZXJ2aWNlLlxuICAgKi9cbiAgZ2V0IGxhbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fbGFuZyB8fCB0aGlzLl9jb25maWcubGFuZztcbiAgfVxuXG4gIHNldCBsYW5nKGxhbmc6IHN0cmluZykge1xuICAgIHRoaXMuX2xhbmcgPSBsYW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgYXR0cmlidXRlIHNwZWNpZmllcyB0aGUgc3BlZWNoIHN5bnRoZXNpcyB2b2ljZSB0aGF0IHRoZSB3ZWIgYXBwbGljYXRpb24gd2lzaGVzIHRvIHVzZS5cbiAgICogV2hlbiBhIFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSBvYmplY3QgaXMgY3JlYXRlZCB0aGlzIGF0dHJpYnV0ZSBtdXN0IGJlIGluaXRpYWxpemVkIHRvIG51bGwuXG4gICAqIElmLCBhdCB0aGUgdGltZSBvZiB0aGUgc3BlYWsoKSBtZXRob2QgY2FsbCxcbiAgICogdGhpcyBhdHRyaWJ1dGUgaGFzIGJlZW4gc2V0IHRvIG9uZSBvZiB0aGUgU3BlZWNoU3ludGhlc2lzVm9pY2Ugb2JqZWN0cyByZXR1cm5lZCBieSBnZXRWb2ljZXMoKSxcbiAgICogdGhlbiB0aGUgdXNlciBhZ2VudCBtdXN0IHVzZSB0aGF0IHZvaWNlLiBJZiB0aGlzIGF0dHJpYnV0ZSBpcyB1bnNldCBvciBudWxsIGF0IHRoZSB0aW1lIG9mIHRoZSBzcGVhaygpXG4gICAqIG1ldGhvZCBjYWxsLCB0aGVuIHRoZSB1c2VyIGFnZW50IG11c3QgdXNlIGEgdXNlciBhZ2VudCBkZWZhdWx0IHZvaWNlLlxuICAgKiBUaGUgdXNlciBhZ2VudCBkZWZhdWx0IHZvaWNlIHNob3VsZCBzdXBwb3J0IHRoZSBjdXJyZW50IGxhbmd1YWdlIChzZWUgbGFuZykgYW5kXG4gICAqIGNhbiBiZSBhIGxvY2FsIG9yIHJlbW90ZSBzcGVlY2ggc2VydmljZSBhbmQgY2FuIGluY29ycG9yYXRlIGVuZCB1c2VyIGNob2ljZXMgdmlhIGludGVyZmFjZXNcbiAgICogcHJvdmlkZWQgYnkgdGhlIHVzZXIgYWdlbnQgc3VjaCBhcyBicm93c2VyIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycy5cbiAgICovXG4gIGdldCB2b2ljZSgpOiBTcGVlY2hTeW50aGVzaXNWb2ljZSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZvaWNlIHx8IHRoaXMuX2NvbmZpZy52b2ljZTtcbiAgfVxuICBzZXQgdm9pY2Uodm9pY2U6IFNwZWVjaFN5bnRoZXNpc1ZvaWNlKSB7XG4gICAgdGhpcy5fdm9pY2UgPSB2b2ljZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGF0dHJpYnV0ZSBzcGVjaWZpZXMgdGhlIHNwZWFraW5nIHZvbHVtZSBmb3IgdGhlIHV0dGVyYW5jZS5cbiAgICogSXQgcmFuZ2VzIGJldHdlZW4gMCBhbmQgMSBpbmNsdXNpdmUsIHdpdGggMCBiZWluZyB0aGUgbG93ZXN0IHZvbHVtZSBhbmQgMSB0aGUgaGlnaGVzdCB2b2x1bWUsXG4gICAqIHdpdGggYSBkZWZhdWx0IG9mIDEuIElmIFNTTUwgaXMgdXNlZCwgdGhpcyB2YWx1ZSB3aWxsIGJlIG92ZXJyaWRkZW4gYnkgcHJvc29keSB0YWdzIGluIHRoZSBtYXJrdXAuXG4gICAqL1xuICBnZXQgdm9sdW1lKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3ZvbHVtZSB8fCB0aGlzLl9jb25maWcudm9sdW1lO1xuICB9XG5cbiAgc2V0IHZvbHVtZSh2b2x1bWU6IG51bWJlcikge1xuICAgIHRoaXMuX3ZvbHVtZSA9IHZvbHVtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGF0dHJpYnV0ZSBzcGVjaWZpZXMgdGhlIHNwZWFraW5nIHJhdGUgZm9yIHRoZSB1dHRlcmFuY2UuXG4gICAqIEl0IGlzIHJlbGF0aXZlIHRvIHRoZSBkZWZhdWx0IHJhdGUgZm9yIHRoaXMgdm9pY2UuXG4gICAqIDEgaXMgdGhlIGRlZmF1bHQgcmF0ZSBzdXBwb3J0ZWQgYnkgdGhlIHNwZWVjaCBzeW50aGVzaXMgZW5naW5lIG9yIHNwZWNpZmljIHZvaWNlXG4gICAqICh3aGljaCBzaG91bGQgY29ycmVzcG9uZCB0byBhIG5vcm1hbCBzcGVha2luZyByYXRlKS5cbiAgICogMiBpcyB0d2ljZSBhcyBmYXN0LCBhbmQgMC41IGlzIGhhbGYgYXMgZmFzdC4gVmFsdWVzIGJlbG93IDAuMSBvciBhYm92ZSAxMCBhcmUgc3RyaWN0bHkgZGlzYWxsb3dlZCxcbiAgICogYnV0IHNwZWVjaCBzeW50aGVzaXMgZW5naW5lcyBvciBzcGVjaWZpYyB2b2ljZXMgbWF5IGNvbnN0cmFpbiB0aGUgbWluaW11bSBhbmQgbWF4aW11bSByYXRlcyBmdXJ0aGVyLFxuICAgKiBmb3IgZXhhbXBsZSwgYSBwYXJ0aWN1bGFyIHZvaWNlIG1heSBub3QgYWN0dWFsbHkgc3BlYWsgZmFzdGVyIHRoYW4gMyB0aW1lcyBub3JtYWxcbiAgICogZXZlbiBpZiB5b3Ugc3BlY2lmeSBhIHZhbHVlIGxhcmdlciB0aGFuIDMuXG4gICAqIElmIFNTTUwgaXMgdXNlZCwgdGhpcyB2YWx1ZSB3aWxsIGJlIG92ZXJyaWRkZW4gYnkgcHJvc29keSB0YWdzIGluIHRoZSBtYXJrdXAuXG4gICAqL1xuICBnZXQgcmF0ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9yYXRlIHx8IHRoaXMuX2NvbmZpZy5yYXRlO1xuICB9XG5cbiAgc2V0IHJhdGUocmF0ZTogbnVtYmVyKSB7XG4gICAgdGhpcy5fcmF0ZSA9IHJhdGU7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBhdHRyaWJ1dGUgc3BlY2lmaWVzIHRoZSBzcGVha2luZyBwaXRjaCBmb3IgdGhlIHV0dGVyYW5jZS5cbiAgICogSXQgcmFuZ2VzIGJldHdlZW4gMCBhbmQgMiBpbmNsdXNpdmUsIHdpdGggMCBiZWluZyB0aGUgbG93ZXN0IHBpdGNoIGFuZCAyIHRoZSBoaWdoZXN0IHBpdGNoLlxuICAgKiAxIGNvcnJlc3BvbmRzIHRvIHRoZSBkZWZhdWx0IHBpdGNoIG9mIHRoZSBzcGVlY2ggc3ludGhlc2lzIGVuZ2luZSBvciBzcGVjaWZpYyB2b2ljZS5cbiAgICogU3BlZWNoIHN5bnRoZXNpcyBlbmdpbmVzIG9yIHZvaWNlcyBtYXkgY29uc3RyYWluIHRoZSBtaW5pbXVtIGFuZCBtYXhpbXVtIHJhdGVzIGZ1cnRoZXIuXG4gICAqIElmIFNTTUwgaXMgdXNlZCwgdGhpcyB2YWx1ZSB3aWxsIGJlIG92ZXJyaWRkZW4gYnkgcHJvc29keSB0YWdzIGluIHRoZSBtYXJrdXAuXG4gICAqL1xuICBnZXQgcGl0Y2goKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fcGl0Y2ggfHwgdGhpcy5fY29uZmlnLnBpdGNoO1xuICB9XG5cbiAgc2V0IHBpdGNoKHBpdGNoOiBudW1iZXIpIHtcbiAgICB0aGlzLl9waXRjaCA9IHBpdGNoO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gdGhpcyB1dHRlcmFuY2UgaGFzIGJlZ3VuIHRvIGJlIHNwb2tlbi5cbiAgICovXG4gIGdldCBvbnN0YXJ0KCk6IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZUV2ZW50SGFuZGxlciB7XG4gICAgcmV0dXJuIHRoaXMuX29uc3RhcnQgfHwgdGhpcy5fY29uZmlnLm9uc3RhcnQ7XG4gIH1cblxuICBzZXQgb25zdGFydChvbnN0YXJ0OiBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2VFdmVudEhhbmRsZXIpIHtcbiAgICB0aGlzLl9vbnN0YXJ0ID0gb25zdGFydDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIHRoaXMgdXR0ZXJhbmNlIGhhcyBjb21wbGV0ZWQgYmVpbmcgc3Bva2VuLiBJZiB0aGlzIGV2ZW50IGZpcmVzLFxuICAgKiB0aGUgZXJyb3IgZXZlbnQgbXVzdCBub3QgYmUgZmlyZWQgZm9yIHRoaXMgdXR0ZXJhbmNlLlxuICAgKi9cbiAgZ2V0IG9uZW5kKCk6IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZUV2ZW50SGFuZGxlciB7XG4gICAgcmV0dXJuIHRoaXMuX29uZW5kIHx8IHRoaXMuX2NvbmZpZy5vbmVuZDtcbiAgfVxuXG4gIHNldCBvbmVuZChvbmVuZDogU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlRXZlbnRIYW5kbGVyKSB7XG4gICAgdGhpcy5fb25lbmQgPSBvbmVuZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlZCBpZiB0aGVyZSB3YXMgYW4gZXJyb3IgdGhhdCBwcmV2ZW50ZWQgc3VjY2Vzc2Z1bCBzcGVha2luZyBvZiB0aGlzIHV0dGVyYW5jZS5cbiAgICogSWYgdGhpcyBldmVudCBmaXJlcywgdGhlIGVuZCBldmVudCBtdXN0IG5vdCBiZSBmaXJlZCBmb3IgdGhpcyB1dHRlcmFuY2UuXG4gICAqL1xuICBnZXQgb25lcnJvcigpOiBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2VFcnJvckV2ZW50SGFuZGxlciB7XG4gICAgcmV0dXJuIHRoaXMuX29uZXJyb3IgfHwgdGhpcy5fY29uZmlnLm9uZXJyb3I7XG4gIH1cblxuICBzZXQgb25lcnJvcihvbmVycm9yOiBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2VFcnJvckV2ZW50SGFuZGxlcikge1xuICAgIHRoaXMuX29uZXJyb3IgPSBvbmVycm9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gYW5kIGlmIHRoaXMgdXR0ZXJhbmNlIGlzIHBhdXNlZCBtaWQtdXR0ZXJhbmNlLlxuICAgKi9cbiAgZ2V0IG9ucGF1c2UoKTogU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlRXZlbnRIYW5kbGVyIHtcbiAgICByZXR1cm4gdGhpcy5fb25wYXVzZSB8fCB0aGlzLl9jb25maWcub25wYXVzZTtcbiAgfVxuXG4gIHNldCBvbnBhdXNlKG9ucGF1c2U6IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZUV2ZW50SGFuZGxlcikge1xuICAgIHRoaXMuX29ucGF1c2UgPSBvbnBhdXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gYW5kIGlmIHRoaXMgdXR0ZXJhbmNlIGlzIHJlc3VtZWQgYWZ0ZXIgYmVpbmcgcGF1c2VkIG1pZC11dHRlcmFuY2UuXG4gICAqIEFkZGluZyB0aGUgdXR0ZXJhbmNlIHRvIHRoZSBxdWV1ZSB3aGlsZSB0aGUgZ2xvYmFsIFNwZWVjaFN5bnRoZXNpcyBpbnN0YW5jZSBpcyBpbiB0aGUgcGF1c2VkIHN0YXRlLFxuICAgKiBhbmQgdGhlbiBjYWxsaW5nIHRoZSByZXN1bWUgbWV0aG9kIGRvZXMgbm90IGNhdXNlIHRoZSByZXN1bWUgZXZlbnQgdG8gYmUgZmlyZWQsXG4gICAqIGluIHRoaXMgY2FzZSB0aGUgdXR0ZXJhbmNl4oCZcyBzdGFydCBldmVudCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1dHRlcmFuY2Ugc3RhcnRzLlxuICAgKi9cbiAgZ2V0IG9ucmVzdW1lKCk6IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZUV2ZW50SGFuZGxlciB7XG4gICAgcmV0dXJuIHRoaXMuX29ucmVzdW1lIHx8IHRoaXMuX2NvbmZpZy5vbnJlc3VtZTtcbiAgfVxuXG4gIHNldCBvbnJlc3VtZShvbnJlc3VtZTogU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlRXZlbnRIYW5kbGVyKSB7XG4gICAgdGhpcy5fb25yZXN1bWUgPSBvbnJlc3VtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIHRoZSBzcG9rZW4gdXR0ZXJhbmNlIHJlYWNoZXMgYSBuYW1lZCBcIm1hcmtcIiB0YWcgaW4gU1NNTC5cbiAgICogW1NTTUxdIFRoZSB1c2VyIGFnZW50IG11c3QgZmlyZSB0aGlzIGV2ZW50IGlmIHRoZSBzcGVlY2ggc3ludGhlc2lzIGVuZ2luZSBwcm92aWRlcyB0aGUgZXZlbnQuXG4gICAqL1xuICBnZXQgb25tYXJrKCk6IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZUV2ZW50SGFuZGxlciB7XG4gICAgcmV0dXJuIHRoaXMuX29ubWFyayB8fCB0aGlzLl9jb25maWcub25tYXJrO1xuICB9XG5cbiAgc2V0IG9ubWFyayhvbm1hcms6IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZUV2ZW50SGFuZGxlcikge1xuICAgIHRoaXMuX29ubWFyayA9IG9ubWFyaztcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIHRoZSBzcG9rZW4gdXR0ZXJhbmNlIHJlYWNoZXMgYSB3b3JkIG9yIHNlbnRlbmNlIGJvdW5kYXJ5LlxuICAgKiBUaGUgdXNlciBhZ2VudCBtdXN0IGZpcmUgdGhpcyBldmVudCBpZiB0aGUgc3BlZWNoIHN5bnRoZXNpcyBlbmdpbmUgcHJvdmlkZXMgdGhlIGV2ZW50LlxuICAgKi9cbiAgZ2V0IG9uYm91bmRhcnkoKTogU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlRXZlbnRIYW5kbGVyIHtcbiAgICByZXR1cm4gdGhpcy5fb25ib3VuZGFyeSB8fCB0aGlzLl9jb25maWcub25ib3VuZGFyeTtcbiAgfVxuXG4gIHNldCBvbmJvdW5kYXJ5KG9uYm91bmRhcnk6IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZUV2ZW50SGFuZGxlcikge1xuICAgIHRoaXMuX29uYm91bmRhcnkgPSBvbmJvdW5kYXJ5O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgYXR0cmlidXRlIHNwZWNpZmllcyB0aGUgdGV4dCB0byBiZSBzeW50aGVzaXplZCBhbmQgc3Bva2VuIGZvciB0aGlzIHV0dGVyYW5jZS5cbiAgICogVGhpcyBtYXkgYmUgZWl0aGVyIHBsYWluIHRleHQgb3IgYSBjb21wbGV0ZSwgd2VsbC1mb3JtZWQgU1NNTCBkb2N1bWVudC5cbiAgICogW1NTTUxdIEZvciBzcGVlY2ggc3ludGhlc2lzIGVuZ2luZXMgdGhhdCBkbyBub3Qgc3VwcG9ydCBTU01MLFxuICAgKiBvciBvbmx5IHN1cHBvcnQgY2VydGFpbiB0YWdzLCB0aGUgdXNlciBhZ2VudCBvciBzcGVlY2ggZW5naW5lIG11c3Qgc3RyaXAgYXdheVxuICAgKiB0aGUgdGFncyB0aGV5IGRvIG5vdCBzdXBwb3J0IGFuZCBzcGVhayB0aGUgdGV4dC4gVGhlcmUgbWF5IGJlIGEgbWF4aW11bSBsZW5ndGggb2YgdGhlIHRleHQsXG4gICAqIGl0IG1heSBiZSBsaW1pdGVkIHRvIDMyLDc2NyBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgcHVibGljIHRleHQodGV4dDogc3RyaW5nKTogU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlIHtcbiAgICBjb25zdCB1dHRlcmFuY2UgPSBuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKHRleHQpO1xuXG4gICAgdXR0ZXJhbmNlLmxhbmcgICAgICAgPSB0aGlzLmxhbmc7XG4gICAgdXR0ZXJhbmNlLnZvaWNlICAgICAgPSB0aGlzLnZvaWNlO1xuICAgIHV0dGVyYW5jZS52b2x1bWUgICAgID0gdGhpcy52b2x1bWU7XG4gICAgdXR0ZXJhbmNlLnJhdGUgICAgICAgPSB0aGlzLnJhdGU7XG4gICAgdXR0ZXJhbmNlLnBpdGNoICAgICAgPSB0aGlzLnBpdGNoO1xuICAgIHV0dGVyYW5jZS5vbnN0YXJ0ICAgID0gdGhpcy5vbnN0YXJ0O1xuICAgIHV0dGVyYW5jZS5vbmVuZCAgICAgID0gdGhpcy5vbmVuZDtcbiAgICB1dHRlcmFuY2Uub25lcnJvciAgICA9IHRoaXMub25lcnJvcjtcbiAgICB1dHRlcmFuY2Uub25wYXVzZSAgICA9IHRoaXMub25wYXVzZTtcbiAgICB1dHRlcmFuY2Uub25yZXN1bWUgICA9IHRoaXMub25yZXN1bWU7XG4gICAgdXR0ZXJhbmNlLm9ubWFyayAgICAgPSB0aGlzLm9ubWFyaztcbiAgICB1dHRlcmFuY2Uub25ib3VuZGFyeSA9IHRoaXMub25ib3VuZGFyeTtcblxuICAgIHJldHVybiB1dHRlcmFuY2U7XG4gIH1cbn1cbiJdfQ==